<section id="contact" class="section contact" aria-labelledby="contact-title">
  <!-- Animated gradient mesh background -->
  <div class="contact__mesh" aria-hidden="true"></div>
  <div class="container">
    <h2 id="contact-title" class="section__title" appScrollReveal>Get In Touch</h2>

    <div class="contact__content">
      <p class="contact__intro" appScrollReveal [delay]="100">
        I'm always open to discussing new projects, creative ideas, or opportunities to be part of your visions.
      </p>

      <!-- Quick Actions -->
      <div class="contact__quick-actions" appScrollReveal [delay]="150">
        <!-- Schedule a Call button hidden -->
        <a
          href="assets/dustine.l.a.dequito.pdf"
          download="Dustine_Dequito_Resume.pdf"
          class="contact__action-btn contact__action-btn--resume"
          aria-label="Download resume as PDF">
          <i class="fas fa-download" aria-hidden="true"></i>
          <span>Download Resume</span>
        </a>
      </div>

      <div class="contact__cards" role="list" aria-label="Contact information">
        <a href="mailto:{{ personalInfo.email }}" class="contact__card card" role="listitem" [attr.aria-label]="'Email me at ' + personalInfo.email" appScrollReveal [delay]="200">
          <div class="contact__card-icon" aria-hidden="true">
            <i class="fas fa-envelope"></i>
          </div>
          <h3 class="contact__card-title">Email</h3>
          <p class="contact__card-value">{{ personalInfo.email }}</p>
        </a>

        <a href="tel:{{ personalInfo.phone }}" class="contact__card card" role="listitem" [attr.aria-label]="'Call me at ' + personalInfo.phone" appScrollReveal [delay]="300">
          <div class="contact__card-icon" aria-hidden="true">
            <i class="fas fa-phone"></i>
          </div>
          <h3 class="contact__card-title">Phone</h3>
          <p class="contact__card-value">{{ personalInfo.phone }}</p>
        </a>

        <div class="contact__card card" role="listitem" appScrollReveal [delay]="400">
          <div class="contact__card-icon" aria-hidden="true">
            <i class="fas fa-map-marker-alt"></i>
          </div>
          <h3 class="contact__card-title">Location</h3>
          <p class="contact__card-value">{{ personalInfo.location }}</p>
        </div>
      </div>

      <div class="contact__form-wrapper" appScrollReveal [delay]="500">
        <h3 class="contact__form-title">Send Me a Message</h3>

        @if (formStatus === 'success') {
          <div class="contact__form-success">
            <i class="fas fa-check-circle"></i>
            <h4>Message Sent!</h4>
            <p>Thank you for reaching out. I'll get back to you soon.</p>
            <button class="btn btn--primary" (click)="resetForm()">
              Send Another Message
            </button>
          </div>
        } @else {
          <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact__form">
            <div class="form-group">
              <label for="name" class="form-label">Your Name</label>
              <input
                type="text"
                id="name"
                formControlName="name"
                class="form-input"
                [class.form-input--error]="isFieldInvalid('name')"
                placeholder="John Doe">
              @if (isFieldInvalid('name')) {
                <span class="form-error">{{ getFieldError('name') }}</span>
              }
            </div>

            <div class="form-group">
              <label for="email" class="form-label">Your Email</label>
              <input
                type="email"
                id="email"
                formControlName="email"
                class="form-input"
                [class.form-input--error]="isFieldInvalid('email')"
                placeholder="john@example.com">
              @if (isFieldInvalid('email')) {
                <span class="form-error">{{ getFieldError('email') }}</span>
              }
            </div>

            <div class="form-group">
              <label for="subject" class="form-label">Subject</label>
              <input
                type="text"
                id="subject"
                formControlName="subject"
                class="form-input"
                [class.form-input--error]="isFieldInvalid('subject')"
                placeholder="Project Inquiry">
              @if (isFieldInvalid('subject')) {
                <span class="form-error">{{ getFieldError('subject') }}</span>
              }
            </div>

            <div class="form-group">
              <label for="message" class="form-label">Message</label>
              <textarea
                id="message"
                formControlName="message"
                class="form-input form-textarea"
                [class.form-input--error]="isFieldInvalid('message')"
                placeholder="Tell me about your project..."
                rows="5"></textarea>
              @if (isFieldInvalid('message')) {
                <span class="form-error">{{ getFieldError('message') }}</span>
              }
            </div>

            @if (formStatus === 'error') {
              <div class="form-error-message">
                <i class="fas fa-exclamation-circle"></i>
                {{ errorMessage }}
              </div>
            }

            <button
              type="submit"
              class="btn btn--submit"
              [disabled]="formStatus === 'submitting'">
              @if (formStatus === 'submitting') {
                <i class="fas fa-spinner fa-spin"></i>
                Sending...
              } @else {
                <i class="fas fa-paper-plane"></i>
                Send Message
              }
            </button>
          </form>
        }
      </div>
    </div>
  </div>

  <footer class="footer" role="contentinfo">
    <div class="container">
      <!-- Social Links -->
      @if (personalInfo.socialLinks) {
        <div class="footer__social">
          @if (personalInfo.socialLinks.github) {
            <a [href]="personalInfo.socialLinks.github" target="_blank" rel="noopener noreferrer" 
               class="footer__social-link" aria-label="GitHub Profile">
              <i class="fab fa-github" aria-hidden="true"></i>
            </a>
          }
          @if (personalInfo.socialLinks.linkedin) {
            <a [href]="personalInfo.socialLinks.linkedin" target="_blank" rel="noopener noreferrer" 
               class="footer__social-link" aria-label="LinkedIn Profile">
              <i class="fab fa-linkedin" aria-hidden="true"></i>
            </a>
          }
        </div>
      }

      <!-- Footer Content Grid -->
      <div class="footer__grid">
        <!-- Quick Links -->
        <div class="footer__column">
          <h4 class="footer__column-title">Quick Links</h4>
          <ul class="footer__links">
            <li><a (click)="scrollTo('about')">About</a></li>
            <li><a (click)="scrollTo('skills')">Skills</a></li>
            <li><a (click)="scrollTo('experience')">Experience</a></li>
            <li><a (click)="scrollTo('projects')">Projects</a></li>
          </ul>
        </div>

        <!-- Contact Info -->
        <div class="footer__column">
          <h4 class="footer__column-title">Contact</h4>
          <ul class="footer__contact-list">
            <li>
              <i class="fas fa-envelope" aria-hidden="true"></i>
              <a href="mailto:{{ personalInfo.email }}">{{ personalInfo.email }}</a>
            </li>
            <li>
              <i class="fas fa-phone" aria-hidden="true"></i>
              <a href="tel:{{ personalInfo.phone }}">{{ personalInfo.phone }}</a>
            </li>
            <li>
              <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
              <span>{{ personalInfo.location }}</span>
            </li>
          </ul>
        </div>

        <!-- Services -->
        <div class="footer__column">
          <h4 class="footer__column-title">Services</h4>
          <ul class="footer__links">
            <li>Web Development</li>
            <li>Frontend Architecture</li>
            <li>Code Review & Consulting</li>
            <li>UI/UX Implementation</li>
          </ul>
        </div>
      </div>

      <!-- Availability Badge -->
      @if (personalInfo.availableForWork) {
        <div class="footer__availability">
          <span class="footer__availability-badge">
            <i class="fas fa-check-circle" aria-hidden="true"></i>
            {{ personalInfo.availabilityStatus || 'Available for Freelance' }}
          </span>
          <span class="footer__experience">
            <i class="fas fa-award" aria-hidden="true"></i>
            {{ personalInfo.yearsExperience }}+ Years Experience
          </span>
        </div>
      }

      <!-- Copyright -->
      <div class="footer__bottom">
        <p class="footer__text">
          &copy; {{ currentYear }} {{ personalInfo.name }}. All rights reserved.
        </p>
        <p class="footer__made-with">
          Made with <i class="fas fa-heart" aria-hidden="true"></i> and Angular
        </p>
      </div>
    </div>
  </footer>
</section>
