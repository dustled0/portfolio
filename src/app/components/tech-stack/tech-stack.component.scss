$primary-brown: #1E3A5F;
$primary-brown-light: #2C5282;
$accent-tan: #CBD5E0;
$cream: #F7FAFC;
$text-dark: #1A202C;
$accent-orange: #4299E1;
$white: #FFFFFF;

$frontend-color: #61DAFB;
$backend-color: #68A063;
$tools-color: #F7DF1E;
$other-color: #4299E1;

.section__subtitle {
  text-align: center;
  color: var(--accent-orange, $accent-orange);
  font-size: 1.1rem;
  margin-bottom: 2rem;
}

.tech-stack {
  &__filters {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-bottom: 2.5rem;
  }

  &__filter {
    padding: 0.6rem 1.25rem;
    border: 2px solid var(--accent-tan, $accent-tan);
    border-radius: 25px;
    background: transparent;
    color: var(--text-primary, $text-dark);
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: capitalize;

    &:hover {
      border-color: var(--primary-brown, $primary-brown);
      background: var(--bg-primary, $cream);
    }

    &--active {
      background: var(--primary-brown, $primary-brown);
      border-color: var(--primary-brown, $primary-brown);
      color: $white;
    }
  }

  &__visualization {
    max-width: 900px;
    margin: 0 auto;
  }

  &__grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1.5rem;
  }

  &__item {
    animation: fadeInUp 0.5s ease forwards;
    animation-delay: var(--delay, 0ms);
    opacity: 0;

    &[data-category="frontend"] .tech-stack__bubble {
      background: linear-gradient(135deg, rgba($frontend-color, 0.15), rgba($frontend-color, 0.05));
      border-color: $frontend-color;
    }
    &[data-category="frontend"] .tech-stack__bar-fill {
      background: linear-gradient(90deg, $frontend-color, lighten($frontend-color, 10%));
    }

    &[data-category="backend"] .tech-stack__bubble {
      background: linear-gradient(135deg, rgba($backend-color, 0.15), rgba($backend-color, 0.05));
      border-color: $backend-color;
    }
    &[data-category="backend"] .tech-stack__bar-fill {
      background: linear-gradient(90deg, $backend-color, lighten($backend-color, 10%));
    }

    &[data-category="tools"] .tech-stack__bubble {
      background: linear-gradient(135deg, rgba($tools-color, 0.15), rgba($tools-color, 0.05));
      border-color: $tools-color;
    }
    &[data-category="tools"] .tech-stack__bar-fill {
      background: linear-gradient(90deg, $tools-color, lighten($tools-color, 10%));
    }

    &[data-category="other"] .tech-stack__bubble {
      background: linear-gradient(135deg, rgba($other-color, 0.15), rgba($other-color, 0.05));
      border-color: $other-color;
    }
    &[data-category="other"] .tech-stack__bar-fill {
      background: linear-gradient(90deg, $other-color, lighten($other-color, 10%));
    }
  }

  &__bubble {
    padding: 1.25rem;
    border-radius: 12px;
    border: 2px solid;
    text-align: center;
    margin-bottom: 0.75rem;
    transition: all 0.3s ease;
    cursor: default;

    &:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }
  }

  &__name {
    display: block;
    font-weight: 600;
    font-size: 1rem;
    color: var(--text-primary, $text-dark);
    margin-bottom: 0.25rem;
  }

  &__level {
    font-size: 0.85rem;
    color: var(--accent-orange, $accent-orange);
    font-weight: 500;
  }

  &__bar {
    height: 6px;
    background: var(--accent-tan, $accent-tan);
    border-radius: 3px;
    overflow: hidden;
  }

  &__bar-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 1s ease;
  }

  &__legend {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 1.5rem;
    margin-top: 2.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--accent-tan, $accent-tan);
  }

  &__legend-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    color: var(--text-primary, $text-dark);
  }

  &__legend-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;

    &--frontend { background: $frontend-color; }
    &--backend { background: $backend-color; }
    &--tools { background: $tools-color; }
    &--other { background: $other-color; }
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (max-width: 600px) {
  .tech-stack {
    &__grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
    }

    &__bubble {
      padding: 1rem;
    }

    &__name {
      font-size: 0.9rem;
    }
  }
}
